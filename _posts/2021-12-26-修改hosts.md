---
layout: post   	
catalog: true 	
tags:
    - Windows
---



# 1. Windows下修改hosts不生效的原因

* ip地址与网址间至少要有一空格
* 另外在最后一行书写映射时一定要加上回车再保存以避免最后一行不生效，如果某条记录暂时不用，只需要在它前面加一个`#`号即可。　　 

* 遇到修改保存后无效的情况，我们可以使用`ipconfig /flushdns`命令来刷新dns缓存
* 在打开浏览器的情况下修改hosts文件时，关闭浏览器时系统才会释放掉hosts文件占用的那部分内存，我们再次打开浏览器访问就发现已经生效了。
* 服务器在响应头设置了 `Connection: keep-alive` （一般的网页都会设置 `keep-alive`，保持长连接，避免多次连接产生网络消耗）之后，客户端会跟服务器保持长连接，只要长连接不断开，页面在请求的时候就不会重新解析域名！

# 2. 修改hosts后无法保存

 解除文件只读属性：右键单击hosts文件，选择“属性”，然后取消“只读”选项。然后尝试再次保存更改。