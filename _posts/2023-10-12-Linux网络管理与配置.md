---
layout: post   	
catalog: true 	
toc: true
tags:
    - Linux网络
---

# 1. 无类域间路由CIDR

跨网段通信必须通过路由器（网关）

有类：A类、B类、C类、D类、E类，主机位数和网络位数是确定的

无类：主机位数和网络位数是不确定的

子网掩码（netmask）：因为是无类的，所以需要知道主机位数和网络位数的情况，由此诞生子网掩码


CIDR 无类域间路由表示法：`IP/网络ID位数`

**常用公式**

网络（网段）数量=2^可变网络ID位数

一个网络的主机数量=2^主机ID位数-2

网络ID = IP与子网掩码相与


**判断是否在同一网段下**

A：192.168.1.100/16
B：192.168.2.100/24

- 从A的角度去判断B是否和A在同一网段：

192.168.1.100和A的子网掩码16相与，得到192.168.0.0

192.168.2.100和A的子网掩码16相与，得到192.168.0.0

在同一网段

- 从B的角度去判断A是否和B在同一网段：

192.168.2.100和B的子网掩码24相与，得到192.168.2.0

192.168.1.100和B的子网掩码24相与，得到192.168.1.0

不在同一网段


# 2. 网络管理


**划分子网**

将一个大网络划分成多个小网络

10.0.0.0/8 划分32个子网给32个省公司使用，则

	新的子网掩码：255.248.0.0
	
	新的子网的最小网络和最大网络：10.0.0.0/13、10.248.0.0/13
	
	新的子网存放最多的主机数：2^19=52万 



