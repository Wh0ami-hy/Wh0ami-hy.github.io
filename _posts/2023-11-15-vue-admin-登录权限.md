---
layout: post   	
catalog: true 	
tags:
    - Vue
---



不同的权限对应着不同的路由，同时侧边栏根据路由进行渲染

# 1. 权限篇

vue-admin项目中前端来控制页面级的权限，不同权限的用户显示不同的侧边栏和限制其所能进入的页面。

通常后端要验证每一个涉及请求的操作，验证其是否有该操作的权限

## 1.1. 权限由前端or后端控制

路由表是由后端根据用户的权限动态生成的，如 若依框架





在Vue 2和Spring Boot前后端分离的项目中，权限控制的实现可以有不同的方式。以下是两种常见的方案：

1. 前端生成路由表：前端在用户登录后可以获取用户的角色信息，然后将角色和路由表中每个页面需要的权限进行比较，生成最终用户可访问的路由表。这种方案将权限控制的逻辑完全交给前端处理，后端只需提供角色信息和路由表数据。前端可以使用路由守卫（route guards）来根据生成的路由表进行权限验证，确保用户只能访问其具备权限的页面。这种方式的好处是前端可以快速响应权限的变化，但也存在一些安全风险，因为前端的权限验证可以被绕过或篡改。
2. 后端动态生成路由表：另一种方案是由后端根据用户的权限动态生成路由表。后端可以根据用户的角色或权限信息，生成相应的路由配置，并将其发送给前端。前端只需简单地使用后端提供的路由配置即可。这种方式的好处是后端完全掌控权限控制的逻辑，前端无法绕过或篡改权限验证。然而，这种方式可能会增加后端的负载，特别是当权限配置复杂且频繁变动时。




在Vue和Spring Boot项目中，权限控制可以在前端(Vue)和后端(Spring Boot)中的任何一边实现。下面是一些考虑因素，可以帮助你决定在哪一边实现权限控制。

1. 安全性：在权限控制方面，后端是更可靠且安全的选择。通过在后端实现权限控制，可以确保用户无法绕过验证和授权机制，因为后端是掌握数据和业务逻辑的地方。如果你只在前端实现权限控制，用户可能可以通过直接发送请求来绕过前端的限制。

2. 业务逻辑：如果你的权限控制涉及到复杂的业务逻辑，例如基于角色、权限级别或其他动态规则进行访问控制，那么在后端实现可能更加合适。后端能够更好地管理和处理复杂的权限规则，并根据用户的角色和权限来控制访问。

3. 前端用户体验：如果你更关注前端用户体验，并希望在用户进行操作之前就能够即时地反馈权限信息，那么在前端实现权限控制可能更适合。前端可以根据用户的权限显示或隐藏相关的界面元素，提供更友好的用户界面。

综上所述，一种常见的做法是在后端实现基本的权限验证和授权机制，以确保安全性，并在前端进行一些辅助性的权限控制，以提供更好的用户体验。后端可以提供一些API端点，用于验证用户的身份和权限，前端可以根据后端返回的信息来动态调整界面和功能的显示。

最重要的是，不论你决定在哪一边实现权限控制，都不要将权限控制的逻辑单纯地依赖于前端或后端，尽可能地进行双重验证，以提高系统的安全性。


# 2. 登录功能

登录表单有rule校验，校验规则在`src\utils\validate.js`

登录按钮执行：请求后端，接收token，刷新路由

设置token（保存、删除） `src\utils\auth.js`

